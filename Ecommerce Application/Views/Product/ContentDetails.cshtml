@model Ecommerce_Application.Models.ProductDetails
@using Ecommerce_Application.Repositories
@inject IProductImageRepository _productImageService;

<div id="containerD">
    <div id="imageSection">
        <img id="imgDetails" src=@Model.ThumbImage>
    </div>
    <div id="productDetails">
        <h1>@Model.ProductName</h1>
        
        <div id="details">
            <h3>@Model.ProductName</h3>
            <h4>@Model.BrandName</h4>
            <h2><sup>₹</sup>@Model.SellingPrice</h2>
            <del><h4>MRP @Model.Price</h4></del>
        </div>
        <div id="productPreview">
            <h3>Product Preview</h3>
            @{
                var AllImage = await _productImageService.GetAllImagesById(Model.ProductId);

                foreach (var images in AllImage)
                {
                    <img class="previewImg" id="previewImg" src="@images.ImagePath">
                }
            }
        </div>
        <div id="button"><button>Add to Cart</button></div>
    </div>
</div>


@section Images {
    <script>
        
        $(document).ready(function () {
            $(".previewImg").click(function () {
                var changeSrc = $(this).attr("src")
                $("#imgDetails").attr("src", changeSrc);
                $('.selected').removeClass('selected');
                $(this).addClass('selected');

            });
        });
       

    </script>
}

